<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simulador — Financiamento de Veículos | NS Financeira</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-background-light dark:bg-background-dark font-display min-h-screen flex flex-col lp-veiculos">
  <header class="w-full bg-[#221c11]/90 text-white py-4 px-6">
    <div class="max-w-[960px] mx-auto flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3">
        <img src="assets/ns-logo.png" alt="NS Financeira" class="h-8 w-auto" width="160" height="32" loading="lazy" />
        <span class="text-white font-bold">NS Financeira</span>
      </a>
      <a href="index.html" class="text-[#c9b792] hover:text-primary">Voltar ao site</a>
    </div>
  </header>

  <main class="flex-1 p-6 flex justify-center items-start">
    <div class="sim-card w-full bg-white dark:bg-[#2a2416] rounded-lg shadow-md p-6 sm:p-8 border border-[#675532]">
      <h1 class="text-2xl sm:text-3xl font-extrabold text-white mb-4">Simulador de Financiamento de Veículos</h1>
      <p class="text-[#c9b792] mb-6">Insira os valores para calcular a parcela mensal (sistema PRICE) e o total a pagar.</p>

      <div class="sim-summary fade-in" id="summaryBox">
        <div class="totals">
          <div class="label text-sm text-[#c9b792]">Parcela mensal</div>
          <div class="value" id="summaryBoxMonthly">—</div>
        </div>
        <div class="totals">
          <div class="label text-sm text-[#c9b792]">Total pago</div>
          <div class="value" id="summaryBoxTotal">—</div>
        </div>
        <div class="totals">
          <div class="label text-sm text-[#c9b792]">Juros totais</div>
          <div class="value" id="summaryBoxInterest">—</div>
        </div>
      </div>

      <form id="simForm" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
        <label class="flex flex-col text-white">
          Valor do veículo
          <input id="price" type="number" step="0.01" min="0" value="50000" class="sim-input mt-1" />
        </label>
        <label class="flex flex-col text-white">
          Entrada
          <input id="down" type="number" step="0.01" min="0" value="5000" class="sim-input mt-1" />
        </label>
        <label class="flex flex-col text-white">
          Prazo (meses)
          <input id="months" type="number" min="1" value="60" class="sim-input mt-1" />
        </label>
        <label class="flex flex-col text-white">
          Taxa anual (% ao ano)
          <input id="annualRate" type="number" step="0.01" min="0" value="12" class="sim-input mt-1" />
        </label>
      </form>

      <div class="flex gap-3 mb-6">
        <button id="calcBtn" class="sim-btn sim-primary">Calcular</button>
        <button id="clearBtn" class="sim-btn sim-secondary">Limpar</button>
        <button id="exportCsvBtn" class="sim-btn sim-secondary">Exportar CSV</button>
        <button id="whatsappBtn" class="sim-btn sim-whats ml-auto" title="Enviar resultado por WhatsApp">Enviar por WhatsApp</button>
      </div>

      <section id="results" class="text-white">
        <div id="summary" class="space-y-2">
          <p class="text-lg">Parcela mensal: <strong id="monthly">—</strong></p>
          <p>Total pago: <strong id="totalPaid">—</strong></p>
          <p>Total de juros: <strong id="totalInterest">—</strong></p>
        </div>
      </section>

      <details class="mt-6 text-[#c9b792]">
        <summary class="cursor-pointer">Mostrar simulação detalhada (amortização)</summary>
        <div id="amortTable" class="mt-3 overflow-auto max-h-80 text-white">
          <!-- tabela será preenchida pelo JS -->
        </div>
      </details>
    </div>
  </main>

  <footer class="py-6 text-center text-[#675532]">© 2025 NS Financeira</footer>
  <script src="main.js" defer></script>
</body>
</html>
